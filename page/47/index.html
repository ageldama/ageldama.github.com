<!DOCTYPE html>
<html>
	<head>
	<meta name="generator" content="Hugo 0.147.9">
	<meta charset="utf-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge"><title>아겔로그 | Home </title><meta name="hugo-gen-timestamp" content="1757776793">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="description" content="" />
	<meta property="og:image" content=""/>
	<link rel="alternate" type="application/rss+xml" href="https://ageldama.github.io/index.xml" title="아겔로그" />
	<meta property="og:url" content="https://ageldama.github.io/">
  <meta property="og:site_name" content="아겔로그">
  <meta property="og:title" content="아겔로그">
  <meta property="og:locale" content="ko_kr">
  <meta property="og:type" content="website">

  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="아겔로그">

	
		<script src="https://ageldama.github.io/js/jquery-3.7.1.min.js"></script>

	        

        
            
            
                
                    
                        <link rel="stylesheet" href="/css/gopherish.cc909fc89415f23eb9045b7fd9f6e6b61afa91627d645e8450a2a5ccc30c05b1.css" integrity="sha256-zJCfyJQV8j65BFt/2fbmthr6kWJ9ZF6EUKKlzMMMBbE=" crossorigin="anonymous">
                    
                
            
        

        <link rel="stylesheet" type="text/css" href="/css/chroma.css" />
	
	
</head>

	<body>
		<div class="content">
			<header>
    <div class="main ">
        <a class="site-title "
           href="https://ageldama.github.io/">아겔로그</a>
    </div>

    <nav>
        
            <a href="/posts/archive/">Index🗃️🏷️</a>
        
            <a href="/myself/">Contact📨</a>
        

	
    </nav>
</header>

<script src="/js/darkmode-js.min.js"></script>
<script>
  function addDarkmodeWidget() {
    var options = {
      
      
      
      time: '0.5s', 
      mixColor: '#fff', 
      backgroundColor: '#fff',  
      buttonColorDark: '#100f2c',  
      buttonColorLight: '#fff', 
      saveInCookies: true, 
      label: '🌓', 
      autoMatchOsTheme: true 
    }
    var darkmode = new Darkmode(options);
    darkmode.showWidget();
    window.darkmode = darkmode;
  }
  window.addEventListener('load', addDarkmodeWidget);
</script>



			<div class="search">
    <div class="search-form">
        <input id="search-query" name="search-query"
               class="search-query"
               tabindex="1"
               placeholder="검색어를 입력 (search phrase)"/>
    </div>

    <div class="loader10 search-loading-indicator" style="display: none;"></div>

    <div class="search-results"></div>
</div>


<template id="search-results-title">
    <h2>검색어(search term): <span id="search-term"></span></h2>
</template>


<template id="search-results-no-results">
    <h3><u>--- 검색결과가 없습니다. ---</u></h3>
</template>


<template id="search-results-results-header">
    <h3>--- 검색결과: <span id="search-results-count"></span>건 ---</u></h3>
</template>


<template id="search-result-template"><div class="search_summary">
    <h2 class="post-title no-text-decoration"><a class="search_link search_title" href=""></a></h2>
    <p><em class="search_snippet"></em></p>
    <small>
        <table>
            <tr class="search_iftags"><td><strong>Tags</strong></td><td class="search_tags"></td></tr>
            <tr class="search_ifcategories"><td><strong>Categories</strong></td><td class="search_categories"></td></tr>
        </table>
    </small>
</div></template>






<script>
 
 if (window.navigator.userAgent.indexOf('Trident/') > 0) {
     let urls = [];
     let head = document.getElementsByTagName("head")[0];
     urls.forEach(function(url) {
         let script = document.createElement("script");
         script.src = url;
         head.appendChild(script);
     });
 }
 
</script>


<script src="/js/lodash.min.js"></script>
<script src="/js/mark.min.js"></script>
<script src="/js/search.js"></script>


			<main class="list">
				<div class="site-description"></div>
				
				
				
				<section class="list-item">
					<h1 class="title"><a href="/posts/2019-02feb/internet-sharing-networkmanager-dnsmasq/">NetworkManager &#43; dnsmasq으로 인터넷공유 만들기</a></h1>
					<time>🗓️ 26 Feb, 2019</time>
					<br><div class="description">
						
						<h1 id="필요성-궁금함-현재-상황">필요성, 궁금함, 현재 상황</h1>
<ol>
<li>메인 데스크탑을 무선랜으로 인터넷에 연결하고 사용함.</li>
<li>다른 기기들도 모두 기본적으로 무선으로 LAN접속.</li>
<li>다 좋은데, 메인 데스크탑 &lt;-&gt; 라즈베리파이 접속할때 ssh 접속도
느린거 같을때가 있음.</li>
<li>무선랜 접속이 많고, 블루투스 등등 다른 간섭도 많을거고,</li>
<li>어쨌든 조금 물리적으로 거리가 있는 무선공유기까지 갔다
오는거니까.</li>
<li>그래서 사용 안하고 있는 데스크탑의 내장 유선 랜포트로 인터넷연결을
공유하는 Private network을 만들어서 유선으로 연결해보기로 했다.</li>
<li>정말 체감이 빨라질지 궁금했고</li>
<li>직접 수동으로 설정하는게 거의 없거나,</li>
<li>내가 사용하고 있는 NetworkManager에서 쉽게 설정이 가능할거
같았다.
- <a href="https://wiki.archlinux.org/index.php/NetworkManager#Sharing_internet_connection_over_Ethernet">https://wiki.archlinux.org/index.php/NetworkManager#Sharing_internet_connection_over_Ethernet</a></li>
</ol>
<h1 id="진행과-추가적인-설정">진행과 추가적인 설정</h1>
<ol>
<li>그냥
<a href="https://wiki.archlinux.org/index.php/NetworkManager#nm-applet">nm-applet</a>
사용해서 wired connection에 인터넷 공유를 체크한게 설정 전부.</li>
<li><a href="http://www.thekelleys.org.uk/dnsmasq/doc.html">dnsmasq</a> 패키지만
설치하고, 별도로 systemctl으로 enable/start한건
없음. (NetworkManager에서 자동으로 관리)</li>
<li>잘 동작함. ㅎㅎ</li>
<li>추가적으로, Private Network에 접속하는 호스트의 MAC 어드레스에
IP주소를 고정해서 접속이 편하도록 설정했다.</li>
</ol>
<h2 id="mac주소에-고정ip-할당하기">MAC주소에 고정IP 할당하기</h2>
<ol>
<li>dnsmasq의 DHCP 설정을 추가한다.</li>
<li><code>/etc/NetworkManager/dnsmasq-shared.d/static-ips.conf</code> 파일을 작성했다.</li>
<li>별도의 재시작 없이, 파일 저장하고, 그냥 유선연결을 끊었다가 다시 연결하면 끝.</li>
<li>나머지는 NetworkManager이 다 자동으로 처리.</li>
</ol>
<p>설정파일의 내용은 <sup id="fnref:1"><a href="#fn:1" class="footnote-ref" role="doc-noteref">1</a></sup>:</p>&hellip;
						
					</div>
                                        
				</section>
				
				<section class="list-item">
					<h1 class="title"><a href="/posts/2019-02feb/2019-02feb07thu-ping/">Ping 07/02/2019</a></h1>
					<time>🗓️ 07 Feb, 2019</time>
					<br><div class="description">
						
						<h1 id="golang-사랑">Golang 사랑</h1>
<p>회사일로 Golang을 다시 잡고 쓰게됐다.</p>
<p>예전에도 잠깐 썼었는데<sup id="fnref:1"><a href="#fn:1" class="footnote-ref" role="doc-noteref">1</a></sup>, 이번엔 그냥 더 오래 진지하게 필요에
의해서 쓰게됐다.</p>
<p>지금 일터에서도 필요에 의해서 작은 프로그램을 작성하고 할 일이
있어서 쓰다가 아예 서비스 코드에 적용을 하려 일하고있다.</p>
<p>많은걸 더 깊이 생각하고 익히는 좋은 계기로 꾸준하게 사용하고 있고,
만족스럽다. 대부분의 경우에. 그리고 Emacs와 연동도 좋고 언어 자체의
설계나 그런점들도 너무 좋은거 같다.</p>
<p>GC이 있는 언어를 최근에는 꺼리다가 다시 사용하니까 좋은것 같아. 그냥
문법적은 모호함이 없고 단순함, 머리에 쉽게 기억할만한 규칙들, 혹은
아예 어떤 규칙도 기억할 필요가 없도록 만들거나 하는게 얼마나 설계에
좋은지 깨닫는다.</p>&hellip;
						
					</div>
                                        
				</section>
				
				<section class="list-item">
					<h1 class="title"><a href="/posts/2019-02feb/2019-02feb07thu-gosched-fun/">Golang Goroutine, Channel, I/O 그리고 Scheduler 이해해보기</a></h1>
					<time>🗓️ 07 Feb, 2019</time>
					<br><div class="description">
						
						<p>Go언어를 요즘에 진지하게 생각하고 계속해서 자료를 찾아보며 익히고
있다.</p>
<p>가장 흥미있는 부분은 Goroutine scheduler 구현과 I/O시스템을 어떻게
만들었을까인데, 아직은 소스코드를 뜯어 읽고 하지는 못하지만, 그냥 내가
만들었다면 아마 이렇지 않을까 하는 정도의 추측을 갖고 반대로 예제들을
만들어보며 확인해보고 있다.<sup id="fnref:1"><a href="#fn:1" class="footnote-ref" role="doc-noteref">1</a></sup></p>
<p>우선 현재의 추측은 다음과 같다.</p>
<ol>
<li><code>GOMAXPROCS</code> 같은걸 이용해서 실행시간에는 필요한만큼만
최소한으로만 OS Thread을 시작하는듯. <sup id="fnref:2"><a href="#fn:2" class="footnote-ref" role="doc-noteref">2</a></sup>
<ol>
<li>너무 많은 스레드가 있어도 어차피 Context switching 비용만
늘어나고 별 의미는 커녕 더 나쁠 수 있으니까.</li>
</ol>
</li>
<li>Goroutine들은 Go runtime의 Scheduler이 서로 실행기회를 나눠준다.
<ol>
<li>실행기회를 다른 goroutine에 yield하는 방법은,</li>
<li>I/O operation을 실행하거나</li>
<li>Channel에 Receive/Send할때</li>
</ol>
</li>
<li>위 (2.2)에서 I/O operation이 Async I/O으로 구현되었을거라고 생각.
<ol>
<li>왜냐하면, 그래야 blocking 안되고, Go scheduler으로 실행이 넘어가고,</li>
<li>Go scheduler은 I/O event loop을 통해서 적절하게 다음에 실행할
Goroutine을 결정할 수 있을테니까.</li>
</ol>
</li>
</ol>
<h1 id="예제-프로그램-코드">예제 프로그램 코드</h1>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt" id="hl-0-1"><a class="lnlinks" href="#hl-0-1"> 1</a>
</span><span class="lnt" id="hl-0-2"><a class="lnlinks" href="#hl-0-2"> 2</a>
</span><span class="lnt" id="hl-0-3"><a class="lnlinks" href="#hl-0-3"> 3</a>
</span><span class="lnt" id="hl-0-4"><a class="lnlinks" href="#hl-0-4"> 4</a>
</span><span class="lnt" id="hl-0-5"><a class="lnlinks" href="#hl-0-5"> 5</a>
</span><span class="lnt" id="hl-0-6"><a class="lnlinks" href="#hl-0-6"> 6</a>
</span><span class="lnt" id="hl-0-7"><a class="lnlinks" href="#hl-0-7"> 7</a>
</span><span class="lnt" id="hl-0-8"><a class="lnlinks" href="#hl-0-8"> 8</a>
</span><span class="lnt" id="hl-0-9"><a class="lnlinks" href="#hl-0-9"> 9</a>
</span><span class="lnt" id="hl-0-10"><a class="lnlinks" href="#hl-0-10">10</a>
</span><span class="lnt" id="hl-0-11"><a class="lnlinks" href="#hl-0-11">11</a>
</span><span class="lnt" id="hl-0-12"><a class="lnlinks" href="#hl-0-12">12</a>
</span><span class="lnt" id="hl-0-13"><a class="lnlinks" href="#hl-0-13">13</a>
</span><span class="lnt" id="hl-0-14"><a class="lnlinks" href="#hl-0-14">14</a>
</span><span class="lnt" id="hl-0-15"><a class="lnlinks" href="#hl-0-15">15</a>
</span><span class="lnt" id="hl-0-16"><a class="lnlinks" href="#hl-0-16">16</a>
</span><span class="lnt" id="hl-0-17"><a class="lnlinks" href="#hl-0-17">17</a>
</span><span class="lnt" id="hl-0-18"><a class="lnlinks" href="#hl-0-18">18</a>
</span><span class="lnt" id="hl-0-19"><a class="lnlinks" href="#hl-0-19">19</a>
</span><span class="lnt" id="hl-0-20"><a class="lnlinks" href="#hl-0-20">20</a>
</span><span class="lnt" id="hl-0-21"><a class="lnlinks" href="#hl-0-21">21</a>
</span><span class="lnt" id="hl-0-22"><a class="lnlinks" href="#hl-0-22">22</a>
</span><span class="lnt" id="hl-0-23"><a class="lnlinks" href="#hl-0-23">23</a>
</span><span class="lnt" id="hl-0-24"><a class="lnlinks" href="#hl-0-24">24</a>
</span><span class="lnt" id="hl-0-25"><a class="lnlinks" href="#hl-0-25">25</a>
</span><span class="lnt" id="hl-0-26"><a class="lnlinks" href="#hl-0-26">26</a>
</span><span class="lnt" id="hl-0-27"><a class="lnlinks" href="#hl-0-27">27</a>
</span><span class="lnt" id="hl-0-28"><a class="lnlinks" href="#hl-0-28">28</a>
</span><span class="lnt" id="hl-0-29"><a class="lnlinks" href="#hl-0-29">29</a>
</span><span class="lnt" id="hl-0-30"><a class="lnlinks" href="#hl-0-30">30</a>
</span><span class="lnt" id="hl-0-31"><a class="lnlinks" href="#hl-0-31">31</a>
</span><span class="lnt" id="hl-0-32"><a class="lnlinks" href="#hl-0-32">32</a>
</span><span class="lnt" id="hl-0-33"><a class="lnlinks" href="#hl-0-33">33</a>
</span><span class="lnt" id="hl-0-34"><a class="lnlinks" href="#hl-0-34">34</a>
</span><span class="lnt" id="hl-0-35"><a class="lnlinks" href="#hl-0-35">35</a>
</span><span class="lnt" id="hl-0-36"><a class="lnlinks" href="#hl-0-36">36</a>
</span><span class="lnt" id="hl-0-37"><a class="lnlinks" href="#hl-0-37">37</a>
</span><span class="lnt" id="hl-0-38"><a class="lnlinks" href="#hl-0-38">38</a>
</span><span class="lnt" id="hl-0-39"><a class="lnlinks" href="#hl-0-39">39</a>
</span><span class="lnt" id="hl-0-40"><a class="lnlinks" href="#hl-0-40">40</a>
</span><span class="lnt" id="hl-0-41"><a class="lnlinks" href="#hl-0-41">41</a>
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kn">package</span> <span class="nx">main</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">	<span class="s">&#34;fmt&#34;</span>
</span></span><span class="line"><span class="cl">	<span class="s">&#34;runtime&#34;</span>
</span></span><span class="line"><span class="cl">	<span class="s">&#34;sync&#34;</span>
</span></span><span class="line"><span class="cl">	<span class="s">&#34;time&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">timer</span><span class="p">(</span><span class="nx">wg</span> <span class="o">*</span><span class="nx">sync</span><span class="p">.</span><span class="nx">WaitGroup</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;timer started&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="k">select</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="k">case</span> <span class="o">&lt;-</span><span class="nx">time</span><span class="p">.</span><span class="nf">After</span><span class="p">(</span><span class="mi">3</span> <span class="o">*</span> <span class="nx">time</span><span class="p">.</span><span class="nx">Second</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">		<span class="c1">// NOTE: this never happens while it can&#39;t get any chance to run by scheduler</span>
</span></span><span class="line"><span class="cl">		<span class="nx">wg</span><span class="p">.</span><span class="nf">Done</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">printer</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="k">for</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="c1">// DO NOTHING</span>
</span></span><span class="line"><span class="cl">		<span class="c1">// NOTE: doing any I/O here can yield to gorountine scheduler</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="kd">var</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">		<span class="nx">wg</span> <span class="p">=</span> <span class="nx">sync</span><span class="p">.</span><span class="nx">WaitGroup</span><span class="p">{}</span>
</span></span><span class="line"><span class="cl">	<span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="nx">runtime</span><span class="p">.</span><span class="nf">GOMAXPROCS</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="nx">wg</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="k">go</span> <span class="nf">printer</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">	<span class="k">go</span> <span class="nf">timer</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">wg</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="nx">wg</span><span class="p">.</span><span class="nf">Wait</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;bye&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="실행결과-결론-생각">실행결과, 결론, 생각</h1>
<p>예상한대로,</p>&hellip;
						
					</div>
                                        
				</section>
				
				









<ul class="pagination">
	<span class="page-item page-prev">
	
            <a href="/" class="page-link" aria-label="First"><span aria-hidden="true">First⏮️</span></a>
            <a href="/page/46/" class="page-link" aria-label="Previous"><span aria-hidden="true">Prev⏪</span></a>
        
	</span>
        <span class="page-number">(47/58)</span>
	<span class="page-item page-next">
	
            <a href="/page/48/" class="page-link" aria-label="Next"><span aria-hidden="true">Next⏩</span></a>
            <a href="/page/58/" class="page-link" aria-label="Last"><span aria-hidden="true">Last⏭️</span></a>
        
	</span>
</ul>


			</main>
			<footer>
  
  <div class="footer-info">
      2025  © <a href='/myself'>ageldama</a> 👾  | Built with <a href="https://gohugo.io">Hugo</a> | Subscribe <a href="/index.xml" >RSS&lt;/></a>
      
  </div>
</footer>



<script async src="https://www.googletagmanager.com/gtag/js?id=G-YSB7MGHZ4V"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-YSB7MGHZ4V');
</script>
<script>
  
</script>
		</div>
	</body>
</html>
